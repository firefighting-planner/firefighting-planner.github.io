(this["webpackJsonpfirefighting-planner"]=this["webpackJsonpfirefighting-planner"]||[]).push([[0],{43:function(e){e.exports=JSON.parse('{"a":"firefighting-planner","b":"0.1.0"}')},83:function(e,a,t){e.exports=t(96)},88:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(10),l=t.n(i),o=t(140),c=(t(88),t(50)),s=t(28),u=t(7),p=t(126),m=t(128),d=t(72),g=t(74),f=t(67),h=t(17),b=t(68),E=t.n(b),v=t(32),y=t(66),w=t.n(y),O=function(e){return function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.keys(e),r={},i=0;i<n.length;i++){var l=e[n[i]](a[n[i]],t);r[n[i]]=l}return r}},j=t(43);function k(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?k(t,!0).forEach((function(a){Object(u.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var P={time:"2018-08-01T10:10",searchWord:""};function S(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?S(t,!0).forEach((function(a){Object(u.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var A={range:6e5,lat:36.256535392993314,lon:-119.2002385680952,actions:[],dialogOpen:!1,action:{}},T=O({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"@app/setTime":return C({},e,{time:a.time});case"@app/setSearchWord":return C({},e,{searchWord:a.searchWord});default:return e}},planner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"@planner/setAction":return L({},e,{action:a.action});case"@planner/setDialogOpen":return L({},e,{dialogOpen:a.dialogOpen});case"@planner/setRange":return L({},e,{range:a.range});case"@planner/setLat":return L({},e,{lat:a.lat});case"@planner/setLon":return L({},e,{lon:a.lon});case"@planner/setActions":return L({},e,{actions:a.actions});default:return e}}}),x={app:P,planner:A},N=JSON.parse(localStorage.getItem("".concat(j.a,"@").concat(j.b))),R=Object(n.createContext)(w()(x,N)),F=function(e){var a=Object(n.useContext)(R);return{state:a.state,dispatch:a.dispatch}},I=Object(f.a)((function(e){return{root:{flexGrow:1},title:Object(u.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(u.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(h.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(h.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));var W=function(){var e=F(),a=e.dispatch,t=e.state.app.searchWord,n=I();return r.a.createElement("div",{className:n.root},r.a.createElement(p.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement(d.a,{variant:"h6",className:n.title,noWrap:!0},"Firefighting planner"),r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(E.a,null)),r.a.createElement(g.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},onKeyPress:function(e){"Enter"===e.key&&a({type:"@app/setSearchWord",searchWord:e.target.value})},defaultValue:t})))))};var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("div",null,"Reporter"))},_=t(129),G=t(70),M=t.n(G),U=Object(f.a)((function(e){return{fab:{position:"fixed",margin:e.spacing(1),bottom:0,right:0}}}));var B=function(){var e=F(),a=e.state,t=e.dispatch,n=a.planner,i=n.lat,l=n.lon,o=a.app.time,c=U();return r.a.createElement(_.a,{color:"secondary","aria-label":"add",className:c.fab,onClick:function(e){t({type:"@planner/setDialogOpen",dialogOpen:!0}),t({type:"@planner/setAction",action:{type:"",description:"",time:o,lat:i,lon:l}})}},r.a.createElement(M.a,null))},z=t(144),J=t(130),H=t(131),V=t(132),K=t(133),Q=t(146),X=t(142),Y=t(148),$=t(147),q=t(136),Z=t(137),ee=Object(f.a)((function(e){return{formControl:{minWidth:120}}}));var ae=function(){var e=F(),a=e.dispatch,t=e.state.planner,n=t.action,i=t.actions,l=t.dialogOpen,o=ee(),c=function(){a({type:"@planner/setDialogOpen",dialogOpen:!1})},s=function(e){var t=Object.assign({},n);t[e.target.name]=e.target.value,a({type:"@planner/setAction",action:t})};return r.a.createElement(z.a,{open:l,onClose:c,"aria-labelledby":"form-dialog-title"},r.a.createElement(J.a,{id:"form-dialog-title"},"Add action"),r.a.createElement(H.a,null,r.a.createElement(V.a,null,"Added action will be immediately shared with the other teams."),r.a.createElement(K.a,{className:o.formControl},r.a.createElement(Q.a,{htmlFor:"type"},"Action type"),r.a.createElement(X.a,{inputProps:{name:"type"},value:n.type,onChange:s},r.a.createElement(Y.a,{value:"Spraying the water"},"Spraying the water"),r.a.createElement(Y.a,{value:"Prescribed burning"},"Prescribed burning"),r.a.createElement(Y.a,{value:"Others"},"Others"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement($.a,{label:"Description",name:"description",value:n.description,fullWidth:!0,onChange:s}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement($.a,{name:"time",label:"When",type:"datetime-local",value:n.time,InputLabelProps:{shrink:!0},onChange:s})),r.a.createElement(q.a,null,r.a.createElement(Z.a,{onClick:c,color:"primary"},"Cancel"),r.a.createElement(Z.a,{onClick:function(e){var t=[].concat(i,n);a({type:"@planner/setActions",actions:t}),a({type:"@planner/setDialogOpen",dialogOpen:!1})},color:"primary"},"Save")))},te=t(6),ne=t.n(te),re=function(e,a){var t=new ne.a.PlacemarkAttributes(null);t.imageScale=.05,t.imageColor=ne.a.Color.RED,t.labelAttributes.offset=new ne.a.Offset(ne.a.OFFSET_FRACTION,.5,ne.a.OFFSET_FRACTION,1),t.imageSource="".concat(ne.a.configuration.baseUrl,"images/white-dot.png");var n={};return n.name=e.recordNumber,n.attributes=new ne.a.PlacemarkAttributes(t),n.attributes.imageScale=.04+.001*e.values.FRP,n};var ie=function(){var e,a,t,i,l=F(),o=l.dispatch,c=l.state,s=c.planner,u=s.lat,p=s.lon,m=s.range,d=s.actions,g=c.app.searchWord,f=function(e){o({type:"@planner/setLat",lan:e})},h=function(e){o({type:"@planner/setLon",lon:e})};ne.a.configuration.baseUrl="".concat(""),ne.a.BingMapsKey="Arpxb2gWJKw1Q7P7mt4_d1Lhg_sRPDCiH25jPkNGUanfiHyEi1Ijlk-4UVgkyu65",new ne.a.Globe(new ne.a.EarthElevationModel);var b=new ne.a.Globe2D;return b.projection=new ne.a.ProjectionMercator,Object(n.useEffect)((function(){(t=t||document.getElementById("canvas")).width=window.innerWidth,t.height=window.innerHeight-64,(i=i||new ne.a.WorldWindow("canvas")).globe=b,i.navigator.lookAtLocation.latitude=u,i.navigator.lookAtLocation.longitude=p,i.navigator.range=m;for(var n=[{layer:new ne.a.BMNGLayer,enabled:!0},{layer:new ne.a.BMNGLandsatLayer,enabled:!1},{layer:new ne.a.BingAerialLayer(null),enabled:!1},{layer:new ne.a.BingAerialWithLabelsLayer(null),enabled:!0},{layer:new ne.a.BingRoadsLayer(null),enabled:!1},{layer:new ne.a.OpenStreetMapImageLayer(null),enabled:!1},{layer:new ne.a.AtmosphereLayer,enabled:!0},{layer:new ne.a.CompassLayer,enabled:!0},{layer:new ne.a.CoordinatesDisplayLayer(i),enabled:!0},{layer:new ne.a.ViewControlsLayer(i),enabled:!0}],r=0;r<n.length;r++)n[r].layer.enabled=n[r].enabled,i.addLayer(n[r].layer);var l=new ne.a.RenderableLayer("Fires");new ne.a.Shapefile("".concat(ne.a.configuration.baseUrl,"firms/VNP14IMGTDL_NRT_USA_contiguous_and_Hawaii_24h/VNP14IMGTDL_NRT_USA_contiguous_and_Hawaii_24h.shp")).load(null,re,l),i.addLayer(l);var c=new ne.a.RenderableLayer("Actions"),s=new ne.a.PlacemarkAttributes(null);s.imageScale=.5,s.imageColor=ne.a.Color.GREEN,s.labelAttributes.offset=new ne.a.Offset(ne.a.OFFSET_FRACTION,.5,ne.a.OFFSET_FRACTION,1),d.forEach((function(e){var a=new ne.a.Placemark(new ne.a.Position(e.lat,e.lon,100),!0,null);a.label="".concat(e.type,"\n").concat(e.time),a.altitudeMode=ne.a.RELATIVE_TO_GROUND;var t=new ne.a.PlacemarkAttributes(s);t.imageSource="".concat(ne.a.configuration.baseUrl,"images/white-dot.png"),a.attributes=t;var n=new ne.a.PlacemarkAttributes(t);n.imageScale=1.2,a.highlightAttributes=n,c.addRenderable(a)})),i.addLayer(c);var E=new ne.a.NominatimGeocoder,v=new ne.a.GoToAnimator(i);if(g)if(g.match(ne.a.WWUtil.latLonRegex)){var y=g.split(","),w=parseFloat(y[0]),O=parseFloat(y[1]);v.goTo(new ne.a.Location(w,O),(function(){clearTimeout(a),a=setTimeout((function(){f(w),h(O)}),100)}))}else E.lookup(g,(function(e,t){if(0!==t.length){var n=parseFloat(t[0].lat),r=parseFloat(t[0].lon);v.goTo(new ne.a.Location(n,r),(function(){clearTimeout(a),a=setTimeout((function(){f(n),h(r)}),100)}))}}));var j=function(e){var t=e.clientX,n=e.clientY,r=i.pick(i.canvasCoordinates(t,n));if(1===r.objects.length&&r.objects[0].isTerrain){var l=r.objects[0].position;v.goTo(new ne.a.Location(l.latitude,l.longitude),(function(){clearTimeout(a),a=setTimeout((function(){f(l.latitude),h(l.longitude)}),100)}))}};i.addEventListener("wheel",(function(a){clearTimeout(e),e=setTimeout((function(){var e;e=i.navigator.range,o({type:"@planner/setRange",range:e})}),1e3)})),new ne.a.ClickRecognizer(i,j),new ne.a.TapRecognizer(i,j)}),[b,u,p,g,d,m]),r.a.createElement("canvas",{id:"canvas"})};var le=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement(ie,null),r.a.createElement(ae,null),r.a.createElement(B,null))};var oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("div",null,"Dashboard"))},ce=t(138),se=t(139),ue=t(141),pe={citizen:"know how far wildfire is from my town and ask for help when it\u2019s needed.","senior-firefighter":"manage scattered wildfire information, related data and firefighting plans in a single place.","junior-firefighter":"learn the best practice of fire fighting planning from the past."},me={citizen:"/report","senior-firefighter":"/plan","junior-firefighter":"/dashboard"},de=Object(f.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,0)},description:{fontSize:"16px",border:"1px solid rgba(0, 0, 0, 0.23)",padding:"8.5px 24px 12.5px 14px",borderRadius:"4px",minHeight:"56px"}}}));var ge=function(){var e=de(),a=Object(n.useState)(""),t=Object(v.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(""),c=Object(v.a)(o,2),u=c[0],p=c[1];return u?r.a.createElement(s.a,{to:me[i]}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:e.paper},r.a.createElement(se.a,{container:!0,alignContent:"center",justify:"center",alignItems:"center"},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(d.a,{component:"h1",variant:"h5"},"Try Firefighting planner"))),r.a.createElement("br",null),r.a.createElement(se.a,{container:!0,alignContent:"center",justify:"center",alignItems:"center"},r.a.createElement(se.a,{item:!0,xs:2},"as a"),r.a.createElement(se.a,{item:!0,xs:10},r.a.createElement(X.a,{value:i,onChange:function(e){l(e.target.value)},variant:"outlined",fullWidth:!0},r.a.createElement(Y.a,{value:"citizen"},"Citizen"),r.a.createElement(Y.a,{value:"senior-firefighter"},"Senior firefighter"),r.a.createElement(Y.a,{value:"junior-firefighter"},"Junior firefighter")))),r.a.createElement("br",null),r.a.createElement(se.a,{container:!0,alignContent:"center",justify:"center",alignItems:"center"},r.a.createElement(se.a,{item:!0,xs:2},"to"),r.a.createElement(se.a,{item:!0,xs:10},r.a.createElement(d.a,{className:e.description},pe[i]||""))),r.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){p(!0)}},"Enter")),r.a.createElement(ue.a,{mt:8},r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Created for ",r.a.createElement("a",{href:"https://2019.spaceappschallenge.org",target:"_blank",rel:"noopener noreferrer"},"NASA International Space Apps Challenge 2019")," and the world\ud83c\udf0f",r.a.createElement("br",null),"Made by ",r.a.createElement("a",{href:"https://2019.spaceappschallenge.org/challenges/living-our-world/spot-fire-v20/teams/firefighting-planner/project",target:"_blank",rel:"noopener noreferrer"},"Team Firefighting planner")," with love\ud83d\udc96"))))};var fe=function(){return r.a.createElement(c.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(ge,null)),r.a.createElement(s.b,{exact:!0,path:"/report"},r.a.createElement(D,null)),r.a.createElement(s.b,{exact:!0,path:"/plan"},r.a.createElement(le,null)),r.a.createElement(s.b,{exact:!0,path:"/dashboard"},r.a.createElement(oe,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(e){var a=e.children,t=Object(n.useReducer)(T,x),i=Object(v.a)(t,2),l=i[0],o=i[1];return Object(n.useEffect)((function(){localStorage.setItem("".concat(j.a,"@").concat(j.b),JSON.stringify(l))}),[l]),r.a.createElement(R.Provider,{value:{state:l,dispatch:o}},a)}),null,r.a.createElement(o.a,null),r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[83,1,2]]]);
//# sourceMappingURL=main.6d87bc91.chunk.js.map